import{j as e,r as s,c as N}from"./client-Cgxip4d8.js";import{a as h}from"./axios-BimPEqV4.js";h.get("http://localhost:3001/persons").then(n=>{const a=n.data;console.log(a)});const f=n=>e.jsxs("form",{onSubmit:n.addName,children:[e.jsxs("div",{children:["name:",e.jsx("input",{value:n.newName,onChange:n.handleNameChange})]}),e.jsxs("div",{children:["number:",e.jsx("input",{value:n.newNumber,onChange:n.handleNumberChange})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",children:"add"})})]}),w=n=>e.jsxs("div",{children:["filter shown with",e.jsx("input",{value:n.filters,onChange:n.handleFilterChange})]}),C=({persons:n})=>e.jsxs("li",{children:[n.name," ",n.number," "]}),p=()=>{const[n,a]=s.useState([]),[o,r]=s.useState(""),[l,i]=s.useState(""),[d,c]=s.useState("");s.useEffect(()=>{h.get("http://localhost:3001/persons").then(t=>{a(t.data)})},[]);const m=t=>{t.preventDefault();const b={name:o,id:n.name,number:l};n.some(v=>v.name===o)?alert(o+" is already added to phenebook"):(a(n.concat(b)),r(""),i(""))},u=n.filter(t=>t.name.toLowerCase().includes(d.toLowerCase())),x=t=>{r(t.target.value)},j=t=>{i(t.target.value)},g=t=>{c(t.target.value)};return console.log(n),e.jsxs("div",{children:[e.jsx("h2",{children:"Phonebook"}),e.jsx(w,{filters:d,handleFilterChange:g}),e.jsx("h3",{children:"Add a new"}),e.jsx(f,{addName:m,newName:o,handleNameChange:x,newNumber:l,handleNumberChange:j}),e.jsx("h2",{children:"Numbers"}),e.jsx("ul",{children:u.map(t=>e.jsx(C,{persons:t},t.name))})]})},P=()=>e.jsxs("main",{children:[e.jsx("h1",{children:"Osa 2c Palvelimella olevan datan hakeminen"}),e.jsx("h2",{children:"Tehtävät 2.11."}),e.jsx("div",{className:"task",children:e.jsx(p,{})})]});N.createRoot(document.getElementById("root")).render(e.jsx(P,{}));
